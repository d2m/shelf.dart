        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>ShelfRequest class / shelf.core Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="shelf.core" data-type="ShelfRequest">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../shelf.core.html">shelf.core</a> &rsaquo; <a href="../shelf.core/ShelfRequest.html">ShelfRequest</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>ShelfRequest</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Represents an HTTP request to be processed by a Shelf application.</p>
<p>Properties are inspired by those in the Rack env parameter.</p>
<p><a href="https://github.com/rack/rack/blob/master/SPEC">Rack Spec</a></p>
<p>Rack was inspired by
<a href="http://www.python.org/dev/peps/pep-3333/#environ-variables">PEP 3333</a>.</p>
<pre class="source">
class ShelfRequest {

 //
 // Core Values
 //

 /**
  * The contents of any Content-Length fields in the HTTP request. May be
  * [:null:].
  */
 final int contentLength;

 /**
  * The remainder of the request URL's "path", designating the virtual
  * "location" of the request's target within the application. This may be an
  * empty string, if the request URL targets the application root and does not
  * have a trailing slash.
  */
 final String pathInfo;

 /**
  * The portion of the request URL that follows the "?", if any. May be `null`.
  */
 final String queryString;

 /**
  * The HTTP request method, such as "GET" or "POST". This cannot ever be an
  * empty string, and so is always required.
  */
 final String method;

 final String scriptName;

 /**
  * The version of the protocol the client used to send the request. Typically
  * this will be something like "HTTP/1.0" or "HTTP/1.1" and may be used by the
  * application to determine how to treat any HTTP request headers.
  */
 final String requestProtocol;

 final Uri originalUri;

 final Map&lt;String, String&gt; headers;

 // TODO(kevmoo): validate that required items are present and in the correct
 //               format
 ShelfRequest(this.pathInfo, this.queryString, this.method,
     this.scriptName, this.requestProtocol, this.contentLength,
     this.originalUri, Map&lt;String, String&gt; headers)
     : this.headers = new UnmodifiableMapView(new HashMap.from(headers)) {

   assert(method.isNotEmpty);
   assert(method == method.toUpperCase());

   // The &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt;, if non-empty, must start with &lt;tt&gt;/&lt;/tt&gt;
   assert(scriptName != null);
   assert(scriptName.isEmpty || scriptName.startsWith('/'));

   // The &lt;tt&gt;PATH_INFO&lt;/tt&gt;, if non-empty, must start with &lt;tt&gt;/&lt;/tt&gt;
   assert(pathInfo != null);
   assert(pathInfo.isEmpty || pathInfo.startsWith('/'));

   // The &lt;tt&gt;CONTENT_LENGTH&lt;/tt&gt;, if given, must consist of digits only.
   assert(contentLength == null || contentLength &gt;= 0);



   /**
* One of &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; or &lt;tt&gt;PATH_INFO&lt;/tt&gt; must be
 set.  &lt;tt&gt;PATH_INFO&lt;/tt&gt; should be &lt;tt&gt;/&lt;/tt&gt; if
 &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; is empty.
 &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; never should be &lt;tt&gt;/&lt;/tt&gt;, but instead be empty.
    */
 }

 /*
  * REMOTE_ADDR 127.0.0.1
  * REMOTE_HOST localhost
  * REQUEST_METHOD  GET
  * REQUEST_PATH  /dancingfrog/cool
  * REQUEST_URI http://localhost:9292/dancingfrog/cool?foo=bar
  * SCRIPT_NAME
  * SERVER_NAME localhost
  */

 //
 // Other
 //

 /**
  * Convenience property to access [pathInfo] data as a [List].
  *
  * No corresponding key.
  */
 List&lt;String&gt; get pathSegments {
   var segs = pathInfo.split('/');
   if (segs.length &gt; 0 &amp;&amp; segs.first.isEmpty) {
     segs.removeAt(0);
   }
   if (segs.last.isEmpty) {
     segs.removeLast();
   }
   assert(segs.every((s) =&gt; !s.isEmpty));
   return segs;
 }

 static int _intOrNull(String input) =&gt;
     input == null ? null : int.parse(input);
}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>ShelfRequest</strong>(<a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a> pathInfo, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a> queryString, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a> method, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a> scriptName, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a> requestProtocol, <a href="http://api.dartlang.org/dart_core/int.html" ref="external">int</a> contentLength, <a href="http://api.dartlang.org/dart_core/Uri.html" ref="external">Uri</a> originalUri, <a href="http://api.dartlang.org/dart_core/Map.html" ref="external">Map</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>&gt; headers) <a class="anchor-link" href="#"
              title="Permalink to ShelfRequest.ShelfRequest">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a new <a class="crossref" href="http://api.dartlang.org/dart_core/Object.html">Object</a> instance.</p>
<p><a class="crossref" href="http://api.dartlang.org/dart_core/Object.html">Object</a> instances have no meaningful state, and are only useful
through their identity. An <a class="crossref" href="http://api.dartlang.org/dart_core/Object.html">Object</a> instance is equal to itself
only.</p>
<div class="docs-inherited-from">docs inherited from <a href="http://api.dartlang.org/dart_core/Object.html" ref="external">Object</a> </div></div>
<pre class="source">
ShelfRequest(this.pathInfo, this.queryString, this.method,
   this.scriptName, this.requestProtocol, this.contentLength,
   this.originalUri, Map&lt;String, String&gt; headers)
   : this.headers = new UnmodifiableMapView(new HashMap.from(headers)) {

 assert(method.isNotEmpty);
 assert(method == method.toUpperCase());

 // The &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt;, if non-empty, must start with &lt;tt&gt;/&lt;/tt&gt;
 assert(scriptName != null);
 assert(scriptName.isEmpty || scriptName.startsWith('/'));

 // The &lt;tt&gt;PATH_INFO&lt;/tt&gt;, if non-empty, must start with &lt;tt&gt;/&lt;/tt&gt;
 assert(pathInfo != null);
 assert(pathInfo.isEmpty || pathInfo.startsWith('/'));

 // The &lt;tt&gt;CONTENT_LENGTH&lt;/tt&gt;, if given, must consist of digits only.
 assert(contentLength == null || contentLength &gt;= 0);



 /**
* One of &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; or &lt;tt&gt;PATH_INFO&lt;/tt&gt; must be
set.  &lt;tt&gt;PATH_INFO&lt;/tt&gt; should be &lt;tt&gt;/&lt;/tt&gt; if
&lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; is empty.
&lt;tt&gt;SCRIPT_NAME&lt;/tt&gt; never should be &lt;tt&gt;/&lt;/tt&gt;, but instead be empty.
  */
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="contentLength">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/int.html" ref="external">int</a>         <strong>contentLength</strong> <a class="anchor-link"
            href="#contentLength"
            title="Permalink to ShelfRequest.contentLength">#</a>
        </h4>
        <div class="doc">
<p>The contents of any Content-Length fields in the HTTP request. May be
<code>null</code>.</p>
<pre class="source">
final int contentLength
</pre>
</div>
</div>
<div class="field"><h4 id="headers">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/Map.html" ref="external">Map</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>, <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>&gt;         <strong>headers</strong> <a class="anchor-link"
            href="#headers"
            title="Permalink to ShelfRequest.headers">#</a>
        </h4>
        <div class="doc">
<pre class="source">
final Map&lt;String, String&gt; headers
</pre>
</div>
</div>
<div class="field"><h4 id="method">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>         <strong>method</strong> <a class="anchor-link"
            href="#method"
            title="Permalink to ShelfRequest.method">#</a>
        </h4>
        <div class="doc">
<p>The HTTP request method, such as "GET" or "POST". This cannot ever be an
empty string, and so is always required.</p>
<pre class="source">
final String method
</pre>
</div>
</div>
<div class="field"><h4 id="originalUri">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/Uri.html" ref="external">Uri</a>         <strong>originalUri</strong> <a class="anchor-link"
            href="#originalUri"
            title="Permalink to ShelfRequest.originalUri">#</a>
        </h4>
        <div class="doc">
<pre class="source">
final Uri originalUri
</pre>
</div>
</div>
<div class="field"><h4 id="pathInfo">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>         <strong>pathInfo</strong> <a class="anchor-link"
            href="#pathInfo"
            title="Permalink to ShelfRequest.pathInfo">#</a>
        </h4>
        <div class="doc">
<p>The remainder of the request URL's "path", designating the virtual
"location" of the request's target within the application. This may be an
empty string, if the request URL targets the application root and does not
have a trailing slash.</p>
<pre class="source">
final String pathInfo
</pre>
</div>
</div>
<div class="field"><h4 id="pathSegments">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/List.html" ref="external">List</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>&gt;         <strong>pathSegments</strong> <a class="anchor-link"
            href="#pathSegments"
            title="Permalink to ShelfRequest.pathSegments">#</a>
        </h4>
        <div class="doc">
<p>Convenience property to access <a class="crossref" href="../shelf.core/ShelfRequest.html#pathInfo">pathInfo</a> data as a <a class="crossref" href="http://api.dartlang.org/dart_core/List.html">List</a>.</p>
<p>No corresponding key.</p>
<pre class="source">
List&lt;String&gt; get pathSegments {
 var segs = pathInfo.split('/');
 if (segs.length &gt; 0 &amp;&amp; segs.first.isEmpty) {
   segs.removeAt(0);
 }
 if (segs.last.isEmpty) {
   segs.removeLast();
 }
 assert(segs.every((s) =&gt; !s.isEmpty));
 return segs;
}
</pre>
</div>
</div>
<div class="field"><h4 id="queryString">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>         <strong>queryString</strong> <a class="anchor-link"
            href="#queryString"
            title="Permalink to ShelfRequest.queryString">#</a>
        </h4>
        <div class="doc">
<p>The portion of the request URL that follows the "?", if any. May be <code>null</code>.</p>
<pre class="source">
final String queryString
</pre>
</div>
</div>
<div class="field"><h4 id="requestProtocol">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>         <strong>requestProtocol</strong> <a class="anchor-link"
            href="#requestProtocol"
            title="Permalink to ShelfRequest.requestProtocol">#</a>
        </h4>
        <div class="doc">
<p>The version of the protocol the client used to send the request. Typically
this will be something like "HTTP/1.0" or "HTTP/1.1" and may be used by the
application to determine how to treat any HTTP request headers.</p>
<pre class="source">
final String requestProtocol
</pre>
</div>
</div>
<div class="field"><h4 id="scriptName">
<button class="show-code">Code</button>
final <a href="http://api.dartlang.org/dart_core/String.html" ref="external">String</a>         <strong>scriptName</strong> <a class="anchor-link"
            href="#scriptName"
            title="Permalink to ShelfRequest.scriptName">#</a>
        </h4>
        <div class="doc">
<pre class="source">
final String scriptName
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
